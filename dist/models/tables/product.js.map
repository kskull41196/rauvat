{"version":3,"sources":["../../../build/models/tables/product.js"],"names":["Object","defineProperty","exports","value","base_1","require","Product","sequelize","define","id","type","Sequelize","UUID","defaultValue","UUIDV1","primaryKey","name","STRING","allowNull","user_id","references","model","key","global_area_id","price","INTEGER","validate","min","short_description","description","thumb","list_image","ARRAY","isUrl","rating","ENUM","values","is_from_store","BOOLEAN","position","GEOMETRY","coordinates","crs","properties","longitude","DOUBLE","latitude","duration","is_limit_duration","attribute","JSON","state","feedback_from_admin","updated_id","editor_type","editor","status","created_at","literal","updated_at","deleted_at","hooks","beforeCreate","product","beforeUpdate","timestamps","underscored","freezeTableName","paranoid","defaultScope","attributes","exclude","scopes","deleted","where","$ne"],"mappings":"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","file":"product.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst base_1 = require(\"../base\");\nexports.Product = base_1.sequelize.define('tbl_product', {\n    id: {\n        type: base_1.Sequelize.UUID,\n        defaultValue: base_1.Sequelize.UUIDV1,\n        primaryKey: true\n    },\n    name: {\n        type: base_1.Sequelize.STRING,\n        allowNull: false\n    },\n    user_id: {\n        type: base_1.Sequelize.UUID,\n        references: {\n            model: 'tbl_user',\n            key: 'id'\n        },\n        allowNull: false\n    },\n    global_area_id: {\n        type: base_1.Sequelize.UUID,\n        references: {\n            model: 'tbl_global_area',\n            key: 'id'\n        },\n        allowNull: false\n    },\n    price: {\n        type: base_1.Sequelize.INTEGER,\n        allowNull: false,\n        validate: {\n            min: 0,\n        }\n    },\n    short_description: {\n        type: base_1.Sequelize.STRING,\n        allowNull: true\n    },\n    description: {\n        type: base_1.Sequelize.STRING,\n        allowNull: true\n    },\n    thumb: {\n        type: base_1.Sequelize.STRING,\n        allowNull: false\n    },\n    list_image: {\n        type: base_1.Sequelize.ARRAY({ type: base_1.Sequelize.STRING }),\n        validate: {\n            isUrl: true\n        },\n        allowNull: false\n    },\n    rating: {\n        type: base_1.Sequelize.INTEGER,\n        defaultValue: 5,\n        allowNull: false\n    },\n    type: {\n        type: base_1.Sequelize.ENUM,\n        values: ['BUY', 'SELL'],\n        allowNull: false\n    },\n    is_from_store: {\n        type: base_1.Sequelize.BOOLEAN,\n        defaultValue: false,\n        allowNull: false\n    },\n    position: {\n        type: base_1.Sequelize.GEOMETRY('POINT', 4326),\n        defaultValue: {\n            type: 'Point',\n            coordinates: [0, 0],\n            crs: { type: 'name', properties: { name: 'EPSG:4326' } }\n        }\n    },\n    longitude: {\n        type: base_1.Sequelize.DOUBLE,\n        validate: {\n            min: 0,\n        },\n        defaultValue: 0\n    },\n    latitude: {\n        type: base_1.Sequelize.DOUBLE,\n        validate: {\n            min: 0,\n        },\n        defaultValue: 0\n    },\n    duration: {\n        type: base_1.Sequelize.INTEGER,\n        defaultValue: 7,\n        allowNull: false\n    },\n    is_limit_duration: {\n        type: base_1.Sequelize.BOOLEAN,\n        defaultValue: true,\n        allowNull: false\n    },\n    attribute: {\n        type: base_1.Sequelize.JSON,\n        allowNull: false\n    },\n    state: {\n        type: base_1.Sequelize.ENUM,\n        values: ['REVIEW', 'VALID', 'BANNED', 'OUTDATED'],\n        allowNull: false\n    },\n    feedback_from_admin: {\n        type: base_1.Sequelize.STRING,\n        allowNull: true\n    },\n    updated_id: {\n        type: base_1.Sequelize.UUID,\n        allowNull: true\n    },\n    editor_type: {\n        type: base_1.Sequelize.ENUM,\n        values: ['USER', 'EMPLOYEE'],\n        allowNull: true\n    },\n    editor: {\n        type: base_1.Sequelize.UUID,\n        allowNull: true\n    },\n    status: {\n        type: base_1.Sequelize.BOOLEAN,\n        defaultValue: true,\n    },\n    created_at: {\n        type: 'TIMESTAMP',\n        defaultValue: base_1.Sequelize.literal('CURRENT_TIMESTAMP'),\n        allowNull: false\n    },\n    updated_at: {\n        type: 'TIMESTAMP',\n        defaultValue: base_1.Sequelize.literal('CURRENT_TIMESTAMP'),\n        allowNull: false\n    },\n    deleted_at: { type: 'TIMESTAMP' }\n}, {\n    hooks: {\n        beforeCreate: (product) => {\n            product.position = {\n                type: 'Point',\n                coordinates: [product.longitude, product.latitude],\n                crs: { type: 'name', properties: { name: 'EPSG:4326' } }\n            };\n        },\n        beforeUpdate: (product) => {\n            product.position = {\n                type: 'Point',\n                coordinates: [product.longitude, product.latitude],\n                crs: { type: 'name', properties: { name: 'EPSG:4326' } }\n            };\n        }\n    },\n    timestamps: true,\n    underscored: true,\n    freezeTableName: true,\n    paranoid: true,\n    defaultScope: {\n        attributes: { exclude: ['deleted_at'] }\n    },\n    scopes: {\n        deleted: {\n            where: { deleted_at: { $ne: null } },\n            paranoid: false\n        }\n    }\n});\n//# sourceMappingURL=product.js.map"]}